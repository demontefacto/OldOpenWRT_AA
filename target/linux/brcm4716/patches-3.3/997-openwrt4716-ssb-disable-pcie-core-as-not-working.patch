From: Bernhard Loos <bernhardloos@googlemail.com>

Disable SSB PCI-E core due to code brokeness.
Signed-off-by: George Kashperko <george@znau.edu.ua>
---
 drivers/ssb/driver_pcicore.c |    5 +++++
 1 file changed, 5 insertions(+)
--- linux-3.3.6.orig/drivers/ssb/driver_pcicore.c	2012-05-14 15:14:22.000000000 +0300
+++ linux-3.3.6/drivers/ssb/driver_pcicore.c	2012-05-14 16:48:12.484461055 +0300
@@ -545,6 +545,11 @@ void __devinit ssb_pcicore_init(struct s
 
 #ifdef CONFIG_SSB_PCICORE_HOSTMODE
 	pc->hostmode = pcicore_is_in_hostmode(pc);
+	if (pc->hostmode && dev->bus->chipco.chiptype == SSB_CHIPCO_AI) {
+		printk(KERN_WARNING "Disabling SSB PCI-E host due to code brokeness\n");
+		ssb_device_disable(dev, 0);
+		return;
+	}
 	if (pc->hostmode)
 		ssb_pcicore_init_hostmode(pc);
 #endif /* CONFIG_SSB_PCICORE_HOSTMODE */
